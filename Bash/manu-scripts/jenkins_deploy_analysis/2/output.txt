Started by user Vijay Yadav
Obtained jenkins/dev-deploy.Jenkinsfile from git ssh://git@git.platform.my_mkr_repo:2222/my-dept-devops-test/product.git
Running in Durability level: MAX_SURVIVABILITY
Loading library Manulife@master
using credential f61c651b-31cb-4d1a-86f0-56042f50b0d9
Wiping out workspace first.
Cloning the remote Git repository
Cloning repository ssh://git@gitlab.manulife.com:2222/CDT_Common/JenkinsGenericPipelines.git
 > E:\Git\cmd\git.exe init E:\jenkins_workspaces\GRS_Projects\GRS_GRSPlus\GRS_product\GRS_product_DEV_Deploy\workspace@libs\Manulife # timeout=10
Fetching upstream changes from ssh://git@gitlab.manulife.com:2222/CDT_Common/JenkinsGenericPipelines.git
 > E:\Git\cmd\git.exe --version # timeout=10
using GIT_SSH to set credentials sandhma
 > E:\Git\cmd\git.exe fetch --tags --progress ssh://git@gitlab.manulife.com:2222/CDT_Common/JenkinsGenericPipelines.git +refs/heads/*:refs/remotes/origin/*
 > E:\Git\cmd\git.exe config remote.origin.url ssh://git@gitlab.manulife.com:2222/CDT_Common/JenkinsGenericPipelines.git # timeout=10
 > E:\Git\cmd\git.exe config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
 > E:\Git\cmd\git.exe config remote.origin.url ssh://git@gitlab.manulife.com:2222/CDT_Common/JenkinsGenericPipelines.git # timeout=10
Fetching upstream changes from ssh://git@gitlab.manulife.com:2222/CDT_Common/JenkinsGenericPipelines.git
using GIT_SSH to set credentials sandhma
 > E:\Git\cmd\git.exe fetch --tags --progress ssh://git@gitlab.manulife.com:2222/CDT_Common/JenkinsGenericPipelines.git +refs/heads/*:refs/remotes/origin/*
 > E:\Git\cmd\git.exe rev-parse "refs/remotes/origin/master^{commit}" # timeout=10
 > E:\Git\cmd\git.exe rev-parse "refs/remotes/origin/origin/master^{commit}" # timeout=10
Checking out Revision 9f20010da18861db0e05acd70c93a6beefcf1183 (refs/remotes/origin/master)
 > E:\Git\cmd\git.exe config core.sparsecheckout # timeout=10
 > E:\Git\cmd\git.exe checkout -f 9f20010da18861db0e05acd70c93a6beefcf1183
Commit message: "Merge branch 'fix/CDTJGP-0000-FixIssuesIntroducedByFixingSonarQubeIssues' into 'release'"
[Pipeline] Start of Pipeline
[Pipeline] node
Running on MacBook Pro macC02T618TH03Q (mb3) in /Users/dsmacbuild/Home/workspace/GRS_Projects/GRS_GRSPlus/GRS_product/GRS_product_DEV_Deploy
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
using credential dsdevops-ssh
Cloning the remote Git repository
Cloning repository ssh://git@git.platform.my_mkr_repo:2222/my-dept-devops-test/product.git
 > /usr/local/bin/git init /Users/dsmacbuild/Home/workspace/GRS_Projects/GRS_GRSPlus/GRS_product/GRS_product_DEV_Deploy # timeout=10
Fetching upstream changes from ssh://git@git.platform.my_mkr_repo:2222/my-dept-devops-test/product.git
 > /usr/local/bin/git --version # timeout=10
using GIT_SSH to set credentials dsdevops-ssh
 > /usr/local/bin/git fetch --tags --force --progress ssh://git@git.platform.my_mkr_repo:2222/my-dept-devops-test/product.git +refs/heads/*:refs/remotes/origin/*
 > /usr/local/bin/git config remote.origin.url ssh://git@git.platform.my_mkr_repo:2222/my-dept-devops-test/product.git # timeout=10
 > /usr/local/bin/git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
 > /usr/local/bin/git config remote.origin.url ssh://git@git.platform.my_mkr_repo:2222/my-dept-devops-test/product.git # timeout=10
Fetching upstream changes from ssh://git@git.platform.my_mkr_repo:2222/my-dept-devops-test/product.git
using GIT_SSH to set credentials dsdevops-ssh
 > /usr/local/bin/git fetch --tags --force --progress ssh://git@git.platform.my_mkr_repo:2222/my-dept-devops-test/product.git +refs/heads/*:refs/remotes/origin/*
Checking out Revision f521ae79fd9577701a9478435b4e3f144d2806cf (refs/remotes/origin/dev)
Commit message: "Update  backout.sh"
 > /usr/local/bin/git rev-parse refs/remotes/origin/dev^{commit} # timeout=10
 > /usr/local/bin/git rev-parse refs/remotes/origin/origin/dev^{commit} # timeout=10
 > /usr/local/bin/git config core.sparsecheckout # timeout=10
 > /usr/local/bin/git checkout -f f521ae79fd9577701a9478435b4e3f144d2806cf
 > /usr/local/bin/git rev-list --no-walk ced9dff5ca87a4d71c85504bec9856ca8523c57c # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] timeout
Timeout set to expire in 45 min
[Pipeline] {
[Pipeline] timestamps
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Init)
[Pipeline] script
[Pipeline] {
[Pipeline] echo
[2019-10-30T19:44:58.336Z] 
[2019-10-30T19:44:58.336Z] 
[2019-10-30T19:44:58.336Z]                  ___                               _   ___
[2019-10-30T19:44:58.336Z]                 | . \ ___  _ _ _  ___  _ _  ___  _| | | . > _ _
[2019-10-30T19:44:58.336Z]                 |  _// . \| | | |/ ._>| '_>/ ._>/ . | | . \| | |
[2019-10-30T19:44:58.336Z]                 |_|  \___/|__/_/ \___.|_|  \___.\___| |___/`_. |
[2019-10-30T19:44:58.336Z]                                                            <___'
[2019-10-30T19:44:58.336Z]                          _            _    _
[2019-10-30T19:44:58.336Z]                         | | ___ ._ _ | |__<_>._ _  ___
[2019-10-30T19:44:58.336Z]                        _| |/ ._>| ' || / /| || ' |<_-<
[2019-10-30T19:44:58.336Z]                        \__/\___.|_|_||_\_\|_||_|_|/__/
[2019-10-30T19:44:58.336Z] 
[2019-10-30T19:44:58.336Z]      ___                       _        ___  _            _  _
[2019-10-30T19:44:58.336Z]     /  _>  ___ ._ _  ___  _ _ <_> ___  | . \<_> ___  ___ | |<_>._ _  ___  ___
[2019-10-30T19:44:58.336Z]     | <_/\/ ._>| ' |/ ._>| '_>| |/ | ' |  _/| || . \/ ._>| || || ' |/ ._><_-<
[2019-10-30T19:44:58.336Z]     `____/\___.|_|_|\___.|_|  |_|\_|_. |_|  |_||  _/\___.|_||_||_|_|\___./__/
[2019-10-30T19:44:58.336Z]                                                   |_|
[2019-10-30T19:44:58.336Z]                  _ _                _             _     ___
[2019-10-30T19:44:58.336Z]                 | | | ___  _ _  ___<_> ___ ._ _  / |   <_  >
[2019-10-30T19:44:58.336Z]                 | ' |/ ._>| '_><_-<| |/ . \| ' | | | _  / /
[2019-10-30T19:44:58.336Z]                 |__/ \___.|_|  /__/|_|\___/|_|_| |_|<_><___>
[2019-10-30T19:44:58.336Z] 
[2019-10-30T19:44:58.336Z] 
[2019-10-30T19:44:58.336Z]     
[Pipeline] echo
[2019-10-30T19:44:58.392Z] Documentation: https://gitlab.manulife.com/CDT_Common/JenkinsGenericPipelines/tree/release/1.2
[Pipeline] fileExists
[Pipeline] echo
[2019-10-30T19:44:58.621Z] /Users/dsmacbuild/Home/workspace/GRS_Projects/GRS_GRSPlus/GRS_product/GRS_product_DEV_Deploy/jenkins/common-deploy.properties file found? true
[Pipeline] readProperties
[Pipeline] fileExists
[Pipeline] echo
[2019-10-30T19:44:58.961Z] /Users/dsmacbuild/Home/workspace/GRS_Projects/GRS_GRSPlus/GRS_product/GRS_product_DEV_Deploy/jenkins/dev-deploy.properties file found? true
[Pipeline] readProperties
[Pipeline] echo
[2019-10-30T19:44:59.311Z] ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
[2019-10-30T19:44:59.311Z] | Property Name               | Error/Warning | Source           | Value                                                       | Message                                                                                                                |
[2019-10-30T19:44:59.311Z] ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
[2019-10-30T19:44:59.311Z] | PCF_ManifestFile            | WARNING       | Properties Files | N/A                                                         | Property is unknown by this pipeline.  This is probably a deprecated property or there is a typo in the property name. |
[2019-10-30T19:44:59.311Z] | agent                       | WARNING       | Properties Files | N/A                                                         | Property is unknown by this pipeline.  This is probably a deprecated property or there is a typo in the property name. |
[2019-10-30T19:44:59.311Z] | artifactoryInstance         | WARNING       | Properties Files | N/A                                                         | Property is unknown by this pipeline.  This is probably a deprecated property or there is a typo in the property name. |
[2019-10-30T19:44:59.311Z] | concourseJobName            |               | Properties Files | build-dev-product                                           |                                                                                                                        |
[2019-10-30T19:44:59.311Z] | concoursePipelineName       |               | Properties Files | concourse-product                                           |                                                                                                                        |
[2019-10-30T19:44:59.311Z] | concourseScriptPath         |               | Properties Files | concourse_pipeline                                          |                                                                                                                        |
[2019-10-30T19:44:59.311Z] | concourseTeamURL            |               | Default          | https://concourse.platform.my_mkr_repo/sky/token?team_name= | Defaulting ConcourseURL property to https://concourse.platform.my_mkr_repo/sky/token?team_name=                        |
[2019-10-30T19:44:59.311Z] | concourseURL                |               | Default          | https://concourse.platform.my_mkr_repo                      | Defaulting ConcourseURL property to https://concourse.platform.my_mkr_repo                                             |
[2019-10-30T19:44:59.311Z] | downloadPattern             | WARNING       | Properties Files | N/A                                                         | Property is unknown by this pipeline.  This is probably a deprecated property or there is a typo in the property name. |
[2019-10-30T19:44:59.311Z] | emailJenkinsNotificationsTo |               | Properties Files | vijay_yadav@manulife.com, Jaimin_Gandhi@manulife.com        |                                                                                                                        |
[2019-10-30T19:44:59.311Z] | enterprisePCFCredentials    |               | Properties Files | dsdevops-sa                                                 |                                                                                                                        |
[2019-10-30T19:44:59.311Z] | enterprisePCFSpace          |               | Properties Files | INSTITUTIONAL-GRS                                           |                                                                                                                        |
[2019-10-30T19:44:59.311Z] | enterprisePCFUrl            |               | Default          | https://login.sys.cac.preview.pcf.manulife.com/oauth/token  | Defaulting the Enterprise PCF URL to https://login.sys.cac.preview.pcf.manulife.com/oauth/token                        |
[2019-10-30T19:44:59.311Z] | mattermostChannelName       | WARNING       | Properties Files | N/A                                                         | Property is unknown by this pipeline.  This is probably a deprecated property or there is a typo in the property name. |
[2019-10-30T19:44:59.311Z] | mattermostEndPoint          | WARNING       | Properties Files | N/A                                                         | Property is unknown by this pipeline.  This is probably a deprecated property or there is a typo in the property name. |
[2019-10-30T19:44:59.311Z] | mattermostText              | WARNING       | Properties Files | N/A                                                         | Property is unknown by this pipeline.  This is probably a deprecated property or there is a typo in the property name. |
[2019-10-30T19:44:59.311Z] | releaseRepo                 | WARNING       | Properties Files | N/A                                                         | Property is unknown by this pipeline.  This is probably a deprecated property or there is a typo in the property name. |
[2019-10-30T19:44:59.311Z] | secretPCFTokenCredentials   |               | Properties Files | token_dev                                                   |                                                                                                                        |
[2019-10-30T19:44:59.311Z] | slackChannel                |               | Properties Files | squad-enrolmnt-deploy                                       |                                                                                                                        |
[2019-10-30T19:44:59.311Z] | slackTokenCredentialID      |               | Properties Files | SLACK_TOKEN_GRS                                             |                                                                                                                        |
[2019-10-30T19:44:59.311Z] | smokeTestJenkinsJobName     |               | Default          | null                                                        | Defaulting smokeTestJenkinsJobName property to null                                                                    |
[2019-10-30T19:44:59.311Z] | snapshotRepo                | WARNING       | Properties Files | N/A                                                         | Property is unknown by this pipeline.  This is probably a deprecated property or there is a typo in the property name. |
[2019-10-30T19:44:59.311Z] ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
[2019-10-30T19:44:59.311Z] 
[Pipeline] echo
[2019-10-30T19:44:59.394Z] Received the following value for the commit_id parameter: 0235feeafd5684ad9467f4dba0e836fc6a18738e
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Enterprise Pipeline Authentication)
[Pipeline] timeout
[2019-10-30T19:44:59.730Z] Timeout set to expire in 10 sec
[Pipeline] {
[Pipeline] withCredentials
[2019-10-30T19:44:59.895Z] Masking supported pattern matches of $CONCOURSE_CREDENTIALS or $CONCOURSE_CREDENTIALS_USR or $CONCOURSE_CREDENTIALS_PSW
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] script
[Pipeline] {
[Pipeline] sh
[2019-10-30T19:45:00.849Z] + uaa-auth-web **** ****
[Pipeline] sh
[2019-10-30T19:45:03.610Z] + fly -t build-dev-product login --team-name INSTITUTIONAL-GRS --concourse-url https://concourse.platform.my_mkr_repo --insecure
[2019-10-30T19:45:03.611Z] logging in to team 'INSTITUTIONAL-GRS'
[2019-10-30T19:45:03.611Z] 
[2019-10-30T19:45:03.611Z] navigate to the following URL in your browser:
[2019-10-30T19:45:03.611Z] 
[2019-10-30T19:45:03.611Z]   https://concourse.platform.my_mkr_repo/login?fly_port=61148
[2019-10-30T19:45:03.611Z] 
[2019-10-30T19:45:03.611Z] or enter token manually: token must be of the format 'TYPE VALUE', e.g. 'Bearer ...'
[2019-10-30T19:45:03.611Z] 
[2019-10-30T19:45:03.611Z] target saved
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // timeout
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Deploy pipeline)
[Pipeline] withEnv
[Pipeline] {
[Pipeline] script
[Pipeline] {
[Pipeline] withCredentials
[2019-10-30T19:45:04.790Z] Masking supported pattern matches of $PCF_SECRET_TOKEN
[Pipeline] {
[Pipeline] sh
[2019-10-30T19:45:05.592Z] + cd concourse_pipeline
[2019-10-30T19:45:05.593Z] + fly -t build-dev-product set-pipeline -c pipeline.yml -p concourse-product -n -l config.yml -v git_commit_id=0235feeafd5684ad9467f4dba0e836fc6a18738e -v secret_token=****
[2019-10-30T19:45:05.593Z] groups:
[2019-10-30T19:45:05.593Z]   [33mgroup prod-backup has changed:[0m
[2019-10-30T19:45:05.593Z]   jobs:
[2019-10-30T19:45:05.593Z]   - build-backup-prod
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m- build-backout-blue_green[0m
[2019-10-30T19:45:05.593Z]   name: prod-backup
[2019-10-30T19:45:05.593Z]   
[2019-10-30T19:45:05.593Z] resources:
[2019-10-30T19:45:05.593Z]   [33mresource cf-backout-blue_green has been added:[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32mname: cf-backout-blue_green[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32msource:[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m  api: fly[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m  debug: true[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m  json:[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    buildId: '{BUILD_ID}'[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    buildJobName: '{BUILD_JOB_NAME}'[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    buildName: '{BUILD_NAME}'[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    buildPipelineName: '{BUILD_PIPELINE_NAME}'[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    buildTaskName: assemble-service[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    buildTeamName: '{BUILD_TEAM_NAME}'[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    deploy_script: runner/concourse/common/scripts/backout.sh[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    division: CAC[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    org: CDN-CAC-DEV[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m  method: POST[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m  ssl_verify: false[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32mtype: enterprise-pipeline-api[0m
[2019-10-30T19:45:05.593Z]   
[2019-10-30T19:45:05.593Z] jobs:
[2019-10-30T19:45:05.593Z]   [33mjob build-dev-product has changed:[0m
[2019-10-30T19:45:05.593Z]   name: build-dev-product
[2019-10-30T19:45:05.593Z]   plan:
[2019-10-30T19:45:05.593Z]   - in_parallel:
[2019-10-30T19:45:05.593Z]       steps:
[2019-10-30T19:45:05.593Z]       - get: code
[2019-10-30T19:45:05.593Z]         resource: git-dev-product-code
[2019-10-30T19:45:05.593Z]       - get: runner
[2019-10-30T19:45:05.593Z]         resource: git-dev-product-runner
[2019-10-30T19:45:05.593Z]       - get: kafka
[2019-10-30T19:45:05.593Z]         resource: git-dev-kafka
[2019-10-30T19:45:05.593Z]   - file: runner/concourse/common/assemble.yml
[2019-10-30T19:45:05.593Z]     params:
[2019-10-30T19:45:05.593Z]       BRANCH: dev
[2019-10-30T19:45:05.593Z]       ENV: dev
[2019-10-30T19:45:05.593Z]       PCF_MANIFEST: manifest-dev.yml
[2019-10-30T19:45:05.593Z]       TERM: xterm
[2019-10-30T19:45:05.593Z]   [31m-[0m [31m    TOKEN: ((secret_token))[0m
[2019-10-30T19:45:05.593Z]   [31m-[0m [31m    git_commit_id: ((git_commit_id))[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    TOKEN: ****[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    git_commit_id: 0235feeafd5684ad9467f4dba0e836fc6a18738e[0m
[2019-10-30T19:45:05.593Z]     task: assemble
[2019-10-30T19:45:05.593Z]   - put: cf-push-dev
[2019-10-30T19:45:05.593Z]   public: true
[2019-10-30T19:45:05.593Z]   serial: true
[2019-10-30T19:45:05.593Z]   
[2019-10-30T19:45:05.593Z]   [33mjob build-tst-product has changed:[0m
[2019-10-30T19:45:05.593Z]   name: build-tst-product
[2019-10-30T19:45:05.593Z]   plan:
[2019-10-30T19:45:05.593Z]   - in_parallel:
[2019-10-30T19:45:05.593Z]       steps:
[2019-10-30T19:45:05.593Z]       - get: code
[2019-10-30T19:45:05.593Z]         resource: git-tst-product-code
[2019-10-30T19:45:05.593Z]       - get: runner
[2019-10-30T19:45:05.593Z]         resource: git-tst-product-runner
[2019-10-30T19:45:05.593Z]       - get: kafka
[2019-10-30T19:45:05.593Z]         resource: git-tst-kafka
[2019-10-30T19:45:05.593Z]   - file: runner/concourse/common/assemble.yml
[2019-10-30T19:45:05.593Z]     params:
[2019-10-30T19:45:05.593Z]       BRANCH: tst
[2019-10-30T19:45:05.593Z]       ENV: tst
[2019-10-30T19:45:05.593Z]       PCF_MANIFEST: manifest-tst.yml
[2019-10-30T19:45:05.593Z]       TERM: xterm
[2019-10-30T19:45:05.593Z]   [31m-[0m [31m    TOKEN: ((secret_token))[0m
[2019-10-30T19:45:05.593Z]   [31m-[0m [31m    git_commit_id: ((git_commit_id))[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    TOKEN: ****[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    git_commit_id: 0235feeafd5684ad9467f4dba0e836fc6a18738e[0m
[2019-10-30T19:45:05.593Z]     task: assemble
[2019-10-30T19:45:05.593Z]   - put: cf-push-tst
[2019-10-30T19:45:05.593Z]   public: true
[2019-10-30T19:45:05.593Z]   serial: true
[2019-10-30T19:45:05.593Z]   
[2019-10-30T19:45:05.593Z]   [33mjob build-uat-product has changed:[0m
[2019-10-30T19:45:05.593Z]   name: build-uat-product
[2019-10-30T19:45:05.593Z]   plan:
[2019-10-30T19:45:05.593Z]   - in_parallel:
[2019-10-30T19:45:05.593Z]       steps:
[2019-10-30T19:45:05.593Z]       - get: code
[2019-10-30T19:45:05.593Z]         resource: git-uat-product-code
[2019-10-30T19:45:05.593Z]       - get: runner
[2019-10-30T19:45:05.593Z]         resource: git-uat-product-runner
[2019-10-30T19:45:05.593Z]       - get: kafka
[2019-10-30T19:45:05.593Z]         resource: git-uat-kafka
[2019-10-30T19:45:05.593Z]   - file: runner/concourse/common/assemble.yml
[2019-10-30T19:45:05.593Z]     params:
[2019-10-30T19:45:05.593Z]       BRANCH: uat
[2019-10-30T19:45:05.593Z]       ENV: uat
[2019-10-30T19:45:05.593Z]       PCF_MANIFEST: manifest-uat.yml
[2019-10-30T19:45:05.593Z]       TERM: xterm
[2019-10-30T19:45:05.593Z]   [31m-[0m [31m    TOKEN: ((secret_token))[0m
[2019-10-30T19:45:05.593Z]   [31m-[0m [31m    git_commit_id: ((git_commit_id))[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    TOKEN: ****[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    git_commit_id: 0235feeafd5684ad9467f4dba0e836fc6a18738e[0m
[2019-10-30T19:45:05.593Z]     task: assemble
[2019-10-30T19:45:05.593Z]   - put: cf-push-uat
[2019-10-30T19:45:05.593Z]   public: true
[2019-10-30T19:45:05.593Z]   serial: true
[2019-10-30T19:45:05.593Z]   
[2019-10-30T19:45:05.593Z]   [33mjob build-prod-product has changed:[0m
[2019-10-30T19:45:05.593Z]   name: build-prod-product
[2019-10-30T19:45:05.593Z]   plan:
[2019-10-30T19:45:05.593Z]   - in_parallel:
[2019-10-30T19:45:05.593Z]       steps:
[2019-10-30T19:45:05.593Z]       - get: code
[2019-10-30T19:45:05.593Z]         resource: git-prod-product-code
[2019-10-30T19:45:05.593Z]       - get: runner
[2019-10-30T19:45:05.593Z]         resource: git-prod-product-runner
[2019-10-30T19:45:05.593Z]       - get: kafka
[2019-10-30T19:45:05.593Z]         resource: git-prod-kafka
[2019-10-30T19:45:05.593Z]   - file: runner/concourse/common/assemble.yml
[2019-10-30T19:45:05.593Z]     params:
[2019-10-30T19:45:05.593Z]       BRANCH: prod
[2019-10-30T19:45:05.593Z]       ENV: prod
[2019-10-30T19:45:05.593Z]       PCF_MANIFEST: manifest-prod.yml
[2019-10-30T19:45:05.593Z]       TERM: xterm
[2019-10-30T19:45:05.593Z]   [31m-[0m [31m    TOKEN: ((secret_token))[0m
[2019-10-30T19:45:05.593Z]   [31m-[0m [31m    git_commit_id: ((git_commit_id))[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    TOKEN: ****[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    git_commit_id: 0235feeafd5684ad9467f4dba0e836fc6a18738e[0m
[2019-10-30T19:45:05.593Z]     task: assemble
[2019-10-30T19:45:05.593Z]   - put: cf-push-prod
[2019-10-30T19:45:05.593Z]   public: true
[2019-10-30T19:45:05.593Z]   serial: true
[2019-10-30T19:45:05.593Z]   
[2019-10-30T19:45:05.593Z]   [33mjob build-feature-product has changed:[0m
[2019-10-30T19:45:05.593Z]   name: build-feature-product
[2019-10-30T19:45:05.593Z]   plan:
[2019-10-30T19:45:05.593Z]   - in_parallel:
[2019-10-30T19:45:05.593Z]       steps:
[2019-10-30T19:45:05.593Z]       - get: code
[2019-10-30T19:45:05.593Z]         resource: git-feature-product-code
[2019-10-30T19:45:05.593Z]       - get: runner
[2019-10-30T19:45:05.593Z]         resource: git-feature-product-runner
[2019-10-30T19:45:05.593Z]       - get: kafka
[2019-10-30T19:45:05.593Z]         resource: git-dev-kafka
[2019-10-30T19:45:05.593Z]   - file: runner/concourse/common/assemble-feature.yml
[2019-10-30T19:45:05.593Z]     params:
[2019-10-30T19:45:05.593Z]       BRANCH: dev
[2019-10-30T19:45:05.593Z]       ENV: dev
[2019-10-30T19:45:05.593Z]       PCF_MANIFEST: manifest-dev.yml
[2019-10-30T19:45:05.593Z]       TERM: xterm
[2019-10-30T19:45:05.593Z]   [31m-[0m [31m    TOKEN: ((secret_token))[0m
[2019-10-30T19:45:05.593Z]   [31m-[0m [31m    git_commit_id: ((git_commit_id))[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    TOKEN: ****[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    git_commit_id: 0235feeafd5684ad9467f4dba0e836fc6a18738e[0m
[2019-10-30T19:45:05.593Z]     task: assemble
[2019-10-30T19:45:05.593Z]   - put: cf-push-feature
[2019-10-30T19:45:05.593Z]   public: true
[2019-10-30T19:45:05.593Z]   serial: true
[2019-10-30T19:45:05.593Z]   
[2019-10-30T19:45:05.593Z]   [33mjob build-backout-blue_green has been added:[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32mname: build-backout-blue_green[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32mplan:[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m- in_parallel:[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    steps:[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    - get: runner[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m      resource: git-prod-product-runner[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m- file: runner/concourse/common/assemble-service.yml[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m  params:[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m    TERM: xterm[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m  task: assemble-service[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32m- put: cf-backout-blue_green[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32mpublic: true[0m
[2019-10-30T19:45:05.593Z]   [32m+[0m [32mserial: true[0m
[2019-10-30T19:45:05.593Z]   
[2019-10-30T19:45:05.980Z] configuration updated
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Trigger pipeline)
[Pipeline] withEnv
[Pipeline] {
[Pipeline] script
[Pipeline] {
[Pipeline] sh
[2019-10-30T19:45:07.785Z] + fly -t build-dev-product unpause-pipeline -p concourse-product
[2019-10-30T19:45:07.785Z] unpaused 'concourse-product'
[2019-10-30T19:45:07.785Z] + fly -t build-dev-product trigger-job --job concourse-product/build-dev-product --watch
[2019-10-30T19:45:07.785Z] started concourse-product/build-dev-product #25
[2019-10-30T19:45:07.785Z] 
[2019-10-30T19:45:21.605Z] Identity added: /tmp/git-resource-private-key (/tmp/git-resource-private-key)
[2019-10-30T19:45:21.605Z] Cloning into '/tmp/build/get'...
[2019-10-30T19:45:21.605Z] Identity added: /tmp/git-resource-private-key (/tmp/git-resource-private-key)
[2019-10-30T19:45:21.605Z] Cloning into '/tmp/build/get'...
[2019-10-30T19:45:21.605Z] Identity added: /tmp/git-resource-private-key (/tmp/git-resource-private-key)
[2019-10-30T19:45:21.605Z] Cloning into '/tmp/build/get'...
[2019-10-30T19:45:21.605Z] f521ae7 Update  backout.sh
[2019-10-30T19:45:21.990Z] 78de230 Upload New File
[2019-10-30T19:45:21.990Z] 3075014 Bumped version number to 2.26.0-SNAPSHOT [ci-skip]
[2019-10-30T19:45:21.990Z] [1minitializing[0m
[2019-10-30T19:45:28.377Z] waiting for docker to come up...
[2019-10-30T19:45:29.689Z] Pulling [0;32mdocker.artifactory.platform.my_mkr_repo/cdn-devops-utils-v2@sha256:41a3e768cc1ce6700ba9a2fc4bc860897654d229ec7bbd4f3adbceb12ae26a8f[0m...
[2019-10-30T19:45:30.073Z] sha256:41a3e768cc1ce6700ba9a2fc4bc860897654d229ec7bbd4f3adbceb12ae26a8f: Pulling from cdn-devops-utils-v2
[2019-10-30T19:45:30.073Z] 7448db3b31eb: Pulling fs layer
[2019-10-30T19:45:30.073Z] c36604fa7939: Pulling fs layer
[2019-10-30T19:45:30.073Z] 29e8ef0e3340: Pulling fs layer
[2019-10-30T19:45:30.073Z] a0c934d2565d: Pulling fs layer
[2019-10-30T19:45:30.073Z] a360a17c9cab: Pulling fs layer
[2019-10-30T19:45:30.073Z] cfcc996af805: Pulling fs layer
[2019-10-30T19:45:30.073Z] 2cf014724202: Pulling fs layer
[2019-10-30T19:45:30.073Z] 4bc402a00dfe: Pulling fs layer
[2019-10-30T19:45:30.073Z] b0a0df58b011: Pulling fs layer
[2019-10-30T19:45:30.073Z] 02dcbcfd710f: Pulling fs layer
[2019-10-30T19:45:30.073Z] 1b73a37a6f88: Pulling fs layer
[2019-10-30T19:45:30.073Z] 05efa47a8522: Pulling fs layer
[2019-10-30T19:45:30.073Z] a4e981fdb24d: Pulling fs layer
[2019-10-30T19:45:30.073Z] ee34b557d3f9: Pulling fs layer
[2019-10-30T19:45:30.073Z] fb6593a70905: Pulling fs layer
[2019-10-30T19:45:30.073Z] a4eb323a37ed: Pulling fs layer
[2019-10-30T19:45:30.073Z] d8a05266a00e: Pulling fs layer
[2019-10-30T19:45:30.073Z] dd0b9bc1a998: Pulling fs layer
[2019-10-30T19:45:30.073Z] 3ee129cb5d4f: Pulling fs layer
[2019-10-30T19:45:30.073Z] a85d3632b6cc: Pulling fs layer
[2019-10-30T19:45:30.073Z] 47b3e9f1631b: Pulling fs layer
[2019-10-30T19:45:30.073Z] 9b3c0fcc3e3c: Pulling fs layer
[2019-10-30T19:45:30.073Z] 817a57a5ef1e: Pulling fs layer
[2019-10-30T19:45:30.073Z] a4e981fdb24d: Waiting
[2019-10-30T19:45:30.073Z] ee34b557d3f9: Waiting
[2019-10-30T19:45:30.073Z] a0c934d2565d: Waiting
[2019-10-30T19:45:30.073Z] a360a17c9cab: Waiting
[2019-10-30T19:45:30.073Z] cfcc996af805: Waiting
[2019-10-30T19:45:30.073Z] 2cf014724202: Waiting
[2019-10-30T19:45:30.073Z] fb6593a70905: Waiting
[2019-10-30T19:45:30.073Z] a4eb323a37ed: Waiting
[2019-10-30T19:45:30.073Z] 4bc402a00dfe: Waiting
[2019-10-30T19:45:30.073Z] b0a0df58b011: Waiting
[2019-10-30T19:45:30.073Z] d8a05266a00e: Waiting
[2019-10-30T19:45:30.073Z] dd0b9bc1a998: Waiting
[2019-10-30T19:45:30.073Z] 02dcbcfd710f: Waiting
[2019-10-30T19:45:30.073Z] 1b73a37a6f88: Waiting
[2019-10-30T19:45:30.073Z] 05efa47a8522: Waiting
[2019-10-30T19:45:30.073Z] a85d3632b6cc: Waiting
[2019-10-30T19:45:30.073Z] 817a57a5ef1e: Waiting
[2019-10-30T19:45:30.073Z] 47b3e9f1631b: Waiting
[2019-10-30T19:45:30.073Z] 9b3c0fcc3e3c: Waiting
[2019-10-30T19:45:32.597Z] c36604fa7939: Verifying Checksum
[2019-10-30T19:45:32.597Z] c36604fa7939: Download complete
[2019-10-30T19:45:32.597Z] a0c934d2565d: Verifying Checksum
[2019-10-30T19:45:32.597Z] a0c934d2565d: Download complete
[2019-10-30T19:45:32.597Z] a360a17c9cab: Verifying Checksum
[2019-10-30T19:45:32.597Z] a360a17c9cab: Download complete
[2019-10-30T19:45:32.597Z] cfcc996af805: Verifying Checksum
[2019-10-30T19:45:32.597Z] cfcc996af805: Download complete
[2019-10-30T19:45:33.898Z] 29e8ef0e3340: Verifying Checksum
[2019-10-30T19:45:33.898Z] 29e8ef0e3340: Download complete
[2019-10-30T19:45:33.898Z] 4bc402a00dfe: Download complete
[2019-10-30T19:45:34.279Z] 7448db3b31eb: Verifying Checksum
[2019-10-30T19:45:34.279Z] 7448db3b31eb: Download complete
[2019-10-30T19:45:35.093Z] b0a0df58b011: Verifying Checksum
[2019-10-30T19:45:35.093Z] b0a0df58b011: Download complete
[2019-10-30T19:45:35.910Z] 1b73a37a6f88: Verifying Checksum
[2019-10-30T19:45:35.910Z] 1b73a37a6f88: Download complete
[2019-10-30T19:45:36.293Z] 05efa47a8522: Verifying Checksum
[2019-10-30T19:45:36.293Z] 05efa47a8522: Download complete
[2019-10-30T19:45:37.600Z] 02dcbcfd710f: Verifying Checksum
[2019-10-30T19:45:37.600Z] 02dcbcfd710f: Download complete
[2019-10-30T19:45:37.992Z] 7448db3b31eb: Pull complete
[2019-10-30T19:45:39.861Z] 2cf014724202: Verifying Checksum
[2019-10-30T19:45:39.861Z] 2cf014724202: Download complete
[2019-10-30T19:45:39.861Z] a4e981fdb24d: Verifying Checksum
[2019-10-30T19:45:39.861Z] a4e981fdb24d: Download complete
[2019-10-30T19:45:40.243Z] fb6593a70905: Download complete
[2019-10-30T19:45:40.243Z] a4eb323a37ed: Download complete
[2019-10-30T19:45:40.243Z] dd0b9bc1a998: Verifying Checksum
[2019-10-30T19:45:40.243Z] dd0b9bc1a998: Download complete
[2019-10-30T19:45:40.628Z] 3ee129cb5d4f: Verifying Checksum
[2019-10-30T19:45:40.628Z] 3ee129cb5d4f: Download complete
[2019-10-30T19:45:40.628Z] c36604fa7939: Pull complete
[2019-10-30T19:45:42.496Z] d8a05266a00e: Download complete
[2019-10-30T19:45:42.496Z] a85d3632b6cc: Verifying Checksum
[2019-10-30T19:45:42.496Z] a85d3632b6cc: Download complete
[2019-10-30T19:45:43.310Z] 9b3c0fcc3e3c: Verifying Checksum
[2019-10-30T19:45:43.310Z] 9b3c0fcc3e3c: Download complete
[2019-10-30T19:45:43.310Z] ee34b557d3f9: Verifying Checksum
[2019-10-30T19:45:43.310Z] ee34b557d3f9: Download complete
[2019-10-30T19:45:43.692Z] 47b3e9f1631b: Verifying Checksum
[2019-10-30T19:45:43.692Z] 47b3e9f1631b: Download complete
[2019-10-30T19:45:46.215Z] 817a57a5ef1e: Download complete
[2019-10-30T19:45:46.603Z] 29e8ef0e3340: Pull complete
[2019-10-30T19:45:46.989Z] a0c934d2565d: Pull complete
[2019-10-30T19:45:46.989Z] a360a17c9cab: Pull complete
[2019-10-30T19:45:46.989Z] cfcc996af805: Pull complete
[2019-10-30T19:46:00.790Z] 2cf014724202: Pull complete
[2019-10-30T19:46:02.105Z] 4bc402a00dfe: Pull complete
[2019-10-30T19:46:03.412Z] b0a0df58b011: Pull complete
[2019-10-30T19:46:06.699Z] 02dcbcfd710f: Pull complete
[2019-10-30T19:46:06.699Z] 1b73a37a6f88: Pull complete
[2019-10-30T19:46:07.081Z] 05efa47a8522: Pull complete
[2019-10-30T19:46:12.269Z] a4e981fdb24d: Pull complete
[2019-10-30T19:46:17.511Z] ee34b557d3f9: Pull complete
[2019-10-30T19:46:17.511Z] fb6593a70905: Pull complete
[2019-10-30T19:46:17.511Z] a4eb323a37ed: Pull complete
[2019-10-30T19:46:23.891Z] d8a05266a00e: Pull complete
[2019-10-30T19:46:23.891Z] dd0b9bc1a998: Pull complete
[2019-10-30T19:46:23.891Z] 3ee129cb5d4f: Pull complete
[2019-10-30T19:46:25.777Z] a85d3632b6cc: Pull complete
[2019-10-30T19:46:27.083Z] 47b3e9f1631b: Pull complete
[2019-10-30T19:46:27.465Z] 9b3c0fcc3e3c: Pull complete
[2019-10-30T19:46:31.619Z] 817a57a5ef1e: Pull complete
[2019-10-30T19:46:31.619Z] Digest: sha256:41a3e768cc1ce6700ba9a2fc4bc860897654d229ec7bbd4f3adbceb12ae26a8f
[2019-10-30T19:46:31.619Z] Status: Downloaded newer image for docker.artifactory.platform.my_mkr_repo/cdn-devops-utils-v2@sha256:41a3e768cc1ce6700ba9a2fc4bc860897654d229ec7bbd4f3adbceb12ae26a8f
[2019-10-30T19:46:31.619Z] 
[2019-10-30T19:46:31.619Z] Successfully pulled [0;32mdocker.artifactory.platform.my_mkr_repo/cdn-devops-utils-v2@sha256:41a3e768cc1ce6700ba9a2fc4bc860897654d229ec7bbd4f3adbceb12ae26a8f[0m.
[2019-10-30T19:46:31.619Z] 
[2019-10-30T19:48:11.401Z] [1mrunning runner/concourse/common/scripts/assemble.sh[0m
[2019-10-30T19:48:11.401Z] + TARGET_DIR=/tmp/build/63c5f882/target
[2019-10-30T19:48:11.401Z] + mkdir -p /tmp/build/63c5f882/target
[2019-10-30T19:48:11.401Z] + ls -las
[2019-10-30T19:48:11.401Z] total 24
[2019-10-30T19:48:11.401Z] 4 drwxr-xr-x 6 root root 4096 Oct 30 19:48 .
[2019-10-30T19:48:11.401Z] 4 drwxr-xr-x 3 root root 4096 Oct 30 19:48 ..
[2019-10-30T19:48:11.401Z] 4 drwxr-xr-x 1 root root 4096 Oct 30 19:48 code
[2019-10-30T19:48:11.401Z] 4 drwxr-xr-x 1 root root 4096 Oct 30 19:48 kafka
[2019-10-30T19:48:11.401Z] 4 drwxr-xr-x 6 root root 4096 Oct 30 19:45 runner
[2019-10-30T19:48:11.401Z] 4 drwxr-xr-x 2 root root 4096 Oct 30 19:48 target
[2019-10-30T19:48:11.401Z] + '[' 0235feeafd5684ad9467f4dba0e836fc6a18738e = latest ']'
[2019-10-30T19:48:11.401Z] + jfrog --version
[2019-10-30T19:48:11.401Z] jfrog version 1.20.0
[2019-10-30T19:48:11.401Z] + jfrog rt config --url=https://artifactory.platform.my_mkr_repo/artifactory/ --apikey=AKCp5cc74QzhHYWmVjKH75u3qGLvtRoPzhhM5WJTfmgvjtsRZQDaJ5PjDwVrNVFcMLPMbnWpA Artifactory-Global-Prod
[2019-10-30T19:48:11.401Z] + cat /root/.jfrog/jfrog-cli.conf
[2019-10-30T19:48:11.401Z] {
[2019-10-30T19:48:11.401Z]   "artifactory": [
[2019-10-30T19:48:11.401Z]     {
[2019-10-30T19:48:11.401Z]       "url": "https://artifactory.platform.my_mkr_repo/artifactory/",
[2019-10-30T19:48:11.401Z]       "serverId": "Artifactory-Global-Prod",
[2019-10-30T19:48:11.401Z]       "isDefault": true,
[2019-10-30T19:48:11.401Z]       "apiKey": "AKCp5cc74QzhHYWmVjKH75u3qGLvtRoPzhhM5WJTfmgvjtsRZQDaJ5PjDwVrNVFcMLPMbnWpA"
[2019-10-30T19:48:11.401Z]     }
[2019-10-30T19:48:11.401Z]   ],
[2019-10-30T19:48:11.401Z]   "Version": "1"
[2019-10-30T19:48:11.401Z] }+ jfrog rt dl 'institutional-grs-maven-snapshot/*.jar' --flat=true --props=git.vcs.revision=0235feeafd5684ad9467f4dba0e836fc6a18738e --sort-by=created --sort-order=desc --limit=1
[2019-10-30T19:48:11.401Z] [Info] Searching items to download...
[2019-10-30T19:48:11.401Z] [Info] [Thread 2] Downloading institutional-grs-maven-snapshot-local/com/manulife/it/product/product/2.25.0-SNAPSHOT/product-2.25.0-SNAPSHOT.jar
[2019-10-30T19:48:11.401Z] [Info] [Thread 2] [0]: 206 Partial Content...
[2019-10-30T19:48:11.401Z] [Info] [Thread 2] [1]: 206 Partial Content...
[2019-10-30T19:48:13.268Z] [Info] [Thread 2] [2]: 206 Partial Content...
[2019-10-30T19:48:14.567Z] [Info] [Thread 2] Done downloading.
[2019-10-30T19:48:14.567Z] {
[2019-10-30T19:48:14.567Z]   "status": "success",
[2019-10-30T19:48:14.567Z]   "totals": {
[2019-10-30T19:48:14.567Z]     "success": 1,
[2019-10-30T19:48:14.567Z]     "failure": 0
[2019-10-30T19:48:14.567Z]   }
[2019-10-30T19:48:14.567Z] }
[2019-10-30T19:48:14.567Z] + ls -las
[2019-10-30T19:48:14.567Z] total 76340
[2019-10-30T19:48:14.567Z]     4 drwxr-xr-x 6 root root     4096 Oct 30 19:48 .
[2019-10-30T19:48:14.567Z]     4 drwxr-xr-x 3 root root     4096 Oct 30 19:48 ..
[2019-10-30T19:48:14.567Z]     4 drwxr-xr-x 1 root root     4096 Oct 30 19:48 code
[2019-10-30T19:48:14.567Z]     4 drwxr-xr-x 1 root root     4096 Oct 30 19:48 kafka
[2019-10-30T19:48:14.567Z] 76316 -rw-r--r-- 1 root root 78145730 Oct 30 19:48 product-2.25.0-SNAPSHOT.jar
[2019-10-30T19:48:14.567Z]     4 drwxr-xr-x 6 root root     4096 Oct 30 19:45 runner
[2019-10-30T19:48:14.567Z]     4 drwxr-xr-x 2 root root     4096 Oct 30 19:48 target
[2019-10-30T19:48:14.567Z] + cp code/manifest-dev.yml code/manifest-dr.yml code/manifest-prod.yml code/manifest-tst.yml code/manifest-uat.yml /tmp/build/63c5f882/target
[2019-10-30T19:48:14.567Z] + FILE=application.keytab
[2019-10-30T19:48:14.567Z] + '[' -f ./kafka/application.keytab ']'
[2019-10-30T19:48:14.567Z] + cp kafka/application.keytab /tmp/build/63c5f882/target
[2019-10-30T19:48:14.567Z] + cd /tmp/build/63c5f882/target
[2019-10-30T19:48:14.567Z] + pwd
[2019-10-30T19:48:14.567Z] /tmp/build/63c5f882/target
[2019-10-30T19:48:14.567Z] + ls -las
[2019-10-30T19:48:14.567Z] total 32
[2019-10-30T19:48:14.567Z] 4 drwxr-xr-x 2 root root 4096 Oct 30 19:48 .
[2019-10-30T19:48:14.567Z] 4 drwxr-xr-x 6 root root 4096 Oct 30 19:48 ..
[2019-10-30T19:48:14.567Z] 4 -rw-r--r-- 1 root root   58 Oct 30 19:48 application.keytab
[2019-10-30T19:48:14.567Z] 4 -rw-r--r-- 1 root root  943 Oct 30 19:48 manifest-dev.yml
[2019-10-30T19:48:14.567Z] 4 -rw-r--r-- 1 root root  974 Oct 30 19:48 manifest-dr.yml
[2019-10-30T19:48:14.567Z] 4 -rw-r--r-- 1 root root  978 Oct 30 19:48 manifest-prod.yml
[2019-10-30T19:48:14.567Z] 4 -rw-r--r-- 1 root root  975 Oct 30 19:48 manifest-tst.yml
[2019-10-30T19:48:14.567Z] 4 -rw-r--r-- 1 root root  967 Oct 30 19:48 manifest-uat.yml
[2019-10-30T19:48:14.567Z] + cd ..
[2019-10-30T19:48:14.567Z] + ls -las
[2019-10-30T19:48:14.567Z] total 76340
[2019-10-30T19:48:14.567Z]     4 drwxr-xr-x 6 root root     4096 Oct 30 19:48 .
[2019-10-30T19:48:14.567Z]     4 drwxr-xr-x 3 root root     4096 Oct 30 19:48 ..
[2019-10-30T19:48:14.567Z]     4 drwxr-xr-x 1 root root     4096 Oct 30 19:48 code
[2019-10-30T19:48:14.567Z]     4 drwxr-xr-x 1 root root     4096 Oct 30 19:48 kafka
[2019-10-30T19:48:14.567Z] 76316 -rw-r--r-- 1 root root 78145730 Oct 30 19:48 product-2.25.0-SNAPSHOT.jar
[2019-10-30T19:48:14.567Z]     4 drwxr-xr-x 6 root root     4096 Oct 30 19:45 runner
[2019-10-30T19:48:14.567Z]     4 drwxr-xr-x 2 root root     4096 Oct 30 19:48 target
[2019-10-30T19:48:14.567Z] + cd target
[2019-10-30T19:48:14.567Z] + mkdir -p target
[2019-10-30T19:48:14.948Z] + pwd
[2019-10-30T19:48:14.948Z] /tmp/build/63c5f882/target
[2019-10-30T19:48:14.948Z] + cd ..
[2019-10-30T19:48:14.948Z] + pwd
[2019-10-30T19:48:14.948Z] /tmp/build/63c5f882
[2019-10-30T19:48:14.948Z] + '[' -f 'product-$BRANCH.jar' ']'
[2019-10-30T19:48:14.948Z] + tail -1
[2019-10-30T19:48:14.948Z] + ls -tr 'target/*.jar'
[2019-10-30T19:48:14.948Z] ls: cannot access target/*.jar: No such file or directory
[2019-10-30T19:48:14.948Z] ++ ls -tr product-2.25.0-SNAPSHOT.jar
[2019-10-30T19:48:14.948Z] ++ tail -1
[2019-10-30T19:48:14.948Z] + mv product-2.25.0-SNAPSHOT.jar target/target/product-dev.jar
[2019-10-30T19:48:14.948Z] + cd target
[2019-10-30T19:48:14.948Z] + '[' -f ./application.keytab ']'
[2019-10-30T19:48:14.948Z] + echo 'Appending Enviornment File application.keytab to jar'
[2019-10-30T19:48:14.948Z] Appending Enviornment File application.keytab to jar
[2019-10-30T19:48:14.948Z] + mkdir -p BOOT-INF/classes
[2019-10-30T19:48:14.948Z] + cp application.keytab BOOT-INF/classes
[2019-10-30T19:48:14.948Z] + jar uf target/product-dev.jar BOOT-INF/classes/application.keytab
[2019-10-30T19:48:24.395Z] DEBUG:root:command: out
[2019-10-30T19:48:24.395Z] DEBUG:root:input: {'source': {'api': 'fly', 'debug': True, 'json': {'buildId': '{BUILD_ID}', 'buildJobName': '{BUILD_JOB_NAME}', 'buildName': '{BUILD_NAME}', 'buildPipelineName': '{BUILD_PIPELINE_NAME}', 'buildTaskName': 'assemble', 'buildTeamName': '{BUILD_TEAM_NAME}', 'deploy_script': 'runner/concourse/common/scripts/push.sh', 'division': 'CAC', 'org': 'CDN-CAC-DEV'}, 'method': 'POST', 'ssl_verify': False}}
[2019-10-30T19:48:24.395Z] DEBUG:root:args: ['/tmp/build/put']
[2019-10-30T19:48:24.396Z] DEBUG:root:environment: environ({'PATH': '/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/share/jfrog:/usr/share/maven/bin:/usr/bin/gradle/bin:/usr/share/flyway:/usr/share/pcfcli', 'LANG': 'C.UTF-8', 'GPG_KEY': 'E3FF2839C048B25C084DEBE9B26995E310250568', 'PYTHON_VERSION': '3.8.0', 'PYTHON_PIP_VERSION': '19.3.1', 'PYTHON_GET_PIP_URL': 'https://github.com/pypa/get-pip/raw/ffe826207a010164265d9cc807978e3604d18ca0/get-pip.py', 'PYTHON_GET_PIP_SHA256': 'b86f36cc4345ae87bfd4f10ef6b2dbfa7a872fbff70608a1e43944d283fd0eee', 'JFROG_HOME': '/usr/share/jfrog', 'MAVEN_VERSION': '3.3.3', 'MAVEN_HOME': '/usr/share/maven', 'GRADLE_VERSION': '4.6', 'GRADLE_HOME': '/usr/bin/gradle', 'NODE_VERSION': '8.11.1', 'JAVA_HOME': '/usr/lib/jvm/java-11-openjdk-amd64/', 'FLYWAY_VERSION': '5.2.4', 'FLYWAY_CLI_HOME': '/usr/share/flyway', 'PCF_CLI_HOME': '/usr/share/pcfcli', 'BUILD_ID': '149200', 'BUILD_NAME': '25', 'BUILD_TEAM_ID': '41', 'BUILD_TEAM_NAME': 'INSTITUTIONAL-GRS', 'BUILD_JOB_ID': '22093', 'BUILD_JOB_NAME': 'build-dev-product', 'BUILD_PIPELINE_ID': '2114', 'BUILD_PIPELINE_NAME': 'concourse-product', 'ATC_EXTERNAL_URL': 'https://concourse.platform.my_mkr_repo', 'USER': 'root', 'HOME': '/root'})
[2019-10-30T19:48:24.396Z] DEBUG:root:pwd: .
[2019-10-30T19:48:24.396Z] DEBUG:root:json_data: {'buildId': '149200', 'buildJobName': 'build-dev-product', 'buildName': '25', 'buildPipelineName': 'concourse-product', 'buildTaskName': 'assemble', 'buildTeamName': 'INSTITUTIONAL-GRS', 'deploy_script': 'runner/concourse/common/scripts/push.sh', 'division': 'CAC', 'org': 'CDN-CAC-DEV'}
[2019-10-30T19:48:24.396Z] /opt/resource/out:527: DeprecationWarning: The 'warn' function is deprecated, use 'warning' instead
[2019-10-30T19:48:24.396Z]   log.warn('blackduck scan parameters not passed')
[2019-10-30T19:48:24.396Z] WARNING:root:blackduck scan parameters not passed
[2019-10-30T19:48:24.396Z] DEBUG:root:ORG: CDN-CAC-DEV
[2019-10-30T19:48:24.396Z] DEBUG:root:Non PROD deployment, proceeding.
[2019-10-30T19:48:24.396Z] DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): enterprise-pipeline-node.apps.cac.pcf.manulife.com:443
[2019-10-30T19:48:24.396Z] /usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py:997: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings
[2019-10-30T19:48:24.396Z]   warnings.warn(
[2019-10-30T19:48:24.396Z] DEBUG:urllib3.connectionpool:https://enterprise-pipeline-node.apps.cac.pcf.manulife.com:443 "POST /fly HTTP/1.1" 200 36
[2019-10-30T19:48:24.396Z] INFO:root:http response code: 200
[2019-10-30T19:48:24.396Z] INFO:root:http response text: b606537f-23e7-c2db-9e59-b1e4c059bf51
[2019-10-30T19:48:24.396Z] DEBUG:root:Generated buildGuid: b606537f-23e7-c2db-9e59-b1e4c059bf51
[2019-10-30T19:48:24.396Z] DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): enterprise-pipeline-node.apps.cac.pcf.manulife.com:443
[2019-10-30T19:48:24.396Z] DEBUG:urllib3.connectionpool:https://enterprise-pipeline-node.apps.cac.pcf.manulife.com:443 "GET /build-status?buildGuid=b606537f-23e7-c2db-9e59-b1e4c059bf51 HTTP/1.1" 202 2
[2019-10-30T19:48:24.396Z] DEBUG:root:------------------------------
[2019-10-30T19:48:24.396Z] DEBUG:root:Waiting for job to complete...
[2019-10-30T19:48:24.396Z] DEBUG:root:------------------------------
[2019-10-30T19:48:58.668Z] DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): enterprise-pipeline-node.apps.cac.pcf.manulife.com:443
[2019-10-30T19:48:58.668Z] DEBUG:urllib3.connectionpool:https://enterprise-pipeline-node.apps.cac.pcf.manulife.com:443 "GET /build-status?buildGuid=b606537f-23e7-c2db-9e59-b1e4c059bf51 HTTP/1.1" 202 2
[2019-10-30T19:48:58.668Z] DEBUG:root:------------------------------
[2019-10-30T19:48:58.668Z] DEBUG:root:Waiting for job to complete...
[2019-10-30T19:48:58.668Z] DEBUG:root:------------------------------
[2019-10-30T19:49:27.292Z] DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): enterprise-pipeline-node.apps.cac.pcf.manulife.com:443
[2019-10-30T19:49:27.292Z] DEBUG:urllib3.connectionpool:https://enterprise-pipeline-node.apps.cac.pcf.manulife.com:443 "GET /build-status?buildGuid=b606537f-23e7-c2db-9e59-b1e4c059bf51 HTTP/1.1" 202 2
[2019-10-30T19:49:27.292Z] DEBUG:root:------------------------------
[2019-10-30T19:49:27.292Z] DEBUG:root:Waiting for job to complete...
[2019-10-30T19:49:27.292Z] DEBUG:root:------------------------------
[2019-10-30T19:49:55.921Z] DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): enterprise-pipeline-node.apps.cac.pcf.manulife.com:443
[2019-10-30T19:49:55.921Z] DEBUG:urllib3.connectionpool:https://enterprise-pipeline-node.apps.cac.pcf.manulife.com:443 "GET /build-status?buildGuid=b606537f-23e7-c2db-9e59-b1e4c059bf51 HTTP/1.1" 202 2
[2019-10-30T19:49:55.921Z] DEBUG:root:------------------------------
[2019-10-30T19:49:55.921Z] DEBUG:root:Waiting for job to complete...
[2019-10-30T19:49:55.921Z] DEBUG:root:------------------------------
[2019-10-30T19:50:24.617Z] DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): enterprise-pipeline-node.apps.cac.pcf.manulife.com:443
[2019-10-30T19:50:24.617Z] DEBUG:urllib3.connectionpool:https://enterprise-pipeline-node.apps.cac.pcf.manulife.com:443 "GET /build-status?buildGuid=b606537f-23e7-c2db-9e59-b1e4c059bf51 HTTP/1.1" 202 2
[2019-10-30T19:50:24.617Z] DEBUG:root:------------------------------
[2019-10-30T19:50:24.617Z] DEBUG:root:Waiting for job to complete...
[2019-10-30T19:50:24.617Z] DEBUG:root:------------------------------
[2019-10-30T19:50:58.913Z] DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): enterprise-pipeline-node.apps.cac.pcf.manulife.com:443
[2019-10-30T19:50:58.913Z] DEBUG:urllib3.connectionpool:https://enterprise-pipeline-node.apps.cac.pcf.manulife.com:443 "GET /build-status?buildGuid=b606537f-23e7-c2db-9e59-b1e4c059bf51 HTTP/1.1" 202 2
[2019-10-30T19:50:58.913Z] DEBUG:root:------------------------------
[2019-10-30T19:50:58.913Z] DEBUG:root:Waiting for job to complete...
[2019-10-30T19:50:58.913Z] DEBUG:root:------------------------------
[2019-10-30T19:51:27.577Z] DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): enterprise-pipeline-node.apps.cac.pcf.manulife.com:443
[2019-10-30T19:51:27.577Z] DEBUG:urllib3.connectionpool:https://enterprise-pipeline-node.apps.cac.pcf.manulife.com:443 "GET /build-status?buildGuid=b606537f-23e7-c2db-9e59-b1e4c059bf51 HTTP/1.1" 202 2
[2019-10-30T19:51:27.577Z] DEBUG:root:------------------------------
[2019-10-30T19:51:27.577Z] DEBUG:root:Waiting for job to complete...
[2019-10-30T19:51:27.577Z] DEBUG:root:------------------------------
[2019-10-30T19:51:56.208Z] DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): enterprise-pipeline-node.apps.cac.pcf.manulife.com:443
[2019-10-30T19:51:56.208Z] DEBUG:urllib3.connectionpool:https://enterprise-pipeline-node.apps.cac.pcf.manulife.com:443 "GET /build-status?buildGuid=b606537f-23e7-c2db-9e59-b1e4c059bf51 HTTP/1.1" 200 16034
[2019-10-30T19:51:56.208Z] DEBUG:root:1: build #25, step: assemble, type: task
[2019-10-30T19:51:56.208Z] 2: build #25, step: cf-push-dev, type: put
[2019-10-30T19:51:56.208Z] 3: build #25, step: code, type: get
[2019-10-30T19:51:56.208Z] 4: build #25, step: kafka, type: get
[2019-10-30T19:51:56.208Z] 5: build #25, step: runner, type: get
[2019-10-30T19:51:56.208Z] choose a container: 
[2019-10-30T19:51:56.208Z] 1
[2019-10-30T19:51:56.208Z] currentDir:/tmp/build/63c5f882
[2019-10-30T19:51:56.208Z] checksum:
[2019-10-30T19:51:56.208Z] calculatedChecksum:17c522494c7f7da51b27f2738bf58112
[2019-10-30T19:51:56.208Z] code
[2019-10-30T19:51:56.208Z] deploy.sh
[2019-10-30T19:51:56.208Z] kafka
[2019-10-30T19:51:56.208Z] runner
[2019-10-30T19:51:56.208Z] target
[2019-10-30T19:51:56.208Z] Setting api endpoint to [36;1mhttps://api.sys.cac.preview.pcf.manulife.com[0m...
[2019-10-30T19:51:56.208Z] [32;1mOK[0m
[2019-10-30T19:51:56.208Z] api endpoint:   https://api.sys.cac.preview.pcf.manulife.com
[2019-10-30T19:51:56.208Z] api version:    2.125.0
[2019-10-30T19:51:56.208Z] Not logged in. Use 'cf login' to log in.
[2019-10-30T19:51:56.208Z] API endpoint: [36;1mhttps://api.sys.cac.preview.pcf.manulife.com[0m
[2019-10-30T19:51:56.208Z] Authenticating...
[2019-10-30T19:51:56.208Z] [32;1mOK[0m
[2019-10-30T19:51:56.208Z] Use '[36;1mcf target[0m' to view or set your target org and space.
[2019-10-30T19:51:56.208Z] api endpoint:   https://api.sys.cac.preview.pcf.manulife.com
[2019-10-30T19:51:56.208Z] api version:    2.125.0
[2019-10-30T19:51:56.208Z] user:           epipe_institutional-grs_concourse-product_assemble_4ibqrl_149200_ep
[2019-10-30T19:51:56.208Z] org:            CDN-CAC-DEV
[2019-10-30T19:51:56.208Z] space:          INSTITUTIONAL-GRS-CAC-DEV
[2019-10-30T19:51:56.208Z] + cp ConfigServer-grs-config-server.json RegServer-grs-service-registry.json sso-grs-sso.json userdefined-grs-product-sql-db-ups.json ../../../../target
[2019-10-30T19:51:56.208Z] + cp ./env-dev.env ../../../../target
[2019-10-30T19:51:56.208Z] + cd ../../../../
[2019-10-30T19:51:56.208Z] + ls
[2019-10-30T19:51:56.208Z] code
[2019-10-30T19:51:56.208Z] deploy.sh
[2019-10-30T19:51:56.208Z] errorMessage
[2019-10-30T19:51:56.208Z] kafka
[2019-10-30T19:51:56.208Z] runner
[2019-10-30T19:51:56.208Z] target
[2019-10-30T19:51:56.208Z] + cd target
[2019-10-30T19:51:56.208Z] + ls
[2019-10-30T19:51:56.208Z] BOOT-INF
[2019-10-30T19:51:56.208Z] ConfigServer-grs-config-server.json
[2019-10-30T19:51:56.208Z] RegServer-grs-service-registry.json
[2019-10-30T19:51:56.208Z] application.keytab
[2019-10-30T19:51:56.208Z] env-dev.env
[2019-10-30T19:51:56.208Z] manifest-dev.yml
[2019-10-30T19:51:56.208Z] manifest-dr.yml
[2019-10-30T19:51:56.208Z] manifest-prod.yml
[2019-10-30T19:51:56.208Z] manifest-tst.yml
[2019-10-30T19:51:56.208Z] manifest-uat.yml
[2019-10-30T19:51:56.208Z] sso-grs-sso.json
[2019-10-30T19:51:56.208Z] target
[2019-10-30T19:51:56.208Z] userdefined-grs-product-sql-db-ups.json
[2019-10-30T19:51:56.208Z] + regex='ConfigServer-(.*).json'
[2019-10-30T19:51:56.208Z] ++ ls
[2019-10-30T19:51:56.208Z] ++ egrep -i 'ConfigServer-.*.json'
[2019-10-30T19:51:56.208Z] + for i in '$(ls | egrep -i '\''ConfigServer-.*.json'\'' )'
[2019-10-30T19:51:56.208Z] + echo item: ConfigServer-grs-config-server.json
[2019-10-30T19:51:56.208Z] + [[ ConfigServer-grs-config-server.json =~ ConfigServer-(.*).json ]]
[2019-10-30T19:51:56.208Z] + name=grs-config-server
[2019-10-30T19:51:56.208Z] + echo grs-config-server
[2019-10-30T19:51:56.208Z] + grep grs-config-server
[2019-10-30T19:51:56.208Z] + cf services
[2019-10-30T19:51:56.208Z] item: ConfigServer-grs-config-server.json
[2019-10-30T19:51:56.208Z] grs-config-server
[2019-10-30T19:51:56.208Z] grs-config-server                          p-config-server      standard               agreement, beneficiary-api, customer-fund-direction-process, document-utilities, enrolment-api, enrolment-api-test-apigee, error-tracker, feign-multiple-auth-provider, financial, financial-new, financial-process, financial-update-mps, financial-update-slx, foundation-gateway, foundation-spring-starter-kit, investment, kafka-reader-utility, kafka-utility, member, monitor-utility, okra, party, party-update-mps, party-update-slx, product, security-utilities, transact-api, utility, utility-beta                     update succeeded
[2019-10-30T19:51:56.208Z] + echo 'Skipped creation of grs-config-server p-config-server already existing'
[2019-10-30T19:51:56.208Z] + regex='sso-(.*).json'
[2019-10-30T19:51:56.208Z] Skipped creation of grs-config-server p-config-server already existing
[2019-10-30T19:51:56.208Z] ++ egrep -i 'sso-.*json'
[2019-10-30T19:51:56.208Z] ++ ls
[2019-10-30T19:51:56.208Z] + for i in '$(ls | egrep -i '\''sso-.*json'\'' )'
[2019-10-30T19:51:56.208Z] + echo item: sso-grs-sso.json
[2019-10-30T19:51:56.208Z] + [[ sso-grs-sso.json =~ sso-(.*).json ]]
[2019-10-30T19:51:56.208Z] item: sso-grs-sso.json
[2019-10-30T19:51:56.208Z] + name=grs-sso
[2019-10-30T19:51:56.208Z] + echo 'User Defined grs-sso'
[2019-10-30T19:51:56.208Z] User Defined grs-sso
[2019-10-30T19:51:56.208Z] + grep grs-sso
[2019-10-30T19:51:56.208Z] + cf services
[2019-10-30T19:51:56.208Z] grs-sso                                    p-identity           manulife-dev           agreement, beneficiary-api, customer-fund-direction-process, enrolment-api, error-tracker, financial, financial-new, financial-update-mps, financial-update-slx, initial-load-ui-sso, investment, member, monitor-utility, node-sso-poc-v2, party, party-update-mps, party-update-slx, utility-graphql-server-dev                                                                                                                                                                                                                   create succeeded
[2019-10-30T19:51:56.208Z] + echo 'Skipped creation of grs-sso p-identity already existing'
[2019-10-30T19:51:56.208Z] + regex='RegServer-(.*).json'
[2019-10-30T19:51:56.208Z] Skipped creation of grs-sso p-identity already existing
[2019-10-30T19:51:56.208Z] ++ ls
[2019-10-30T19:51:56.208Z] ++ egrep -i 'RegServer-.*json'
[2019-10-30T19:51:56.208Z] + for i in '$(ls | egrep -i '\''RegServer-.*json'\'' )'
[2019-10-30T19:51:56.208Z] + echo item: RegServer-grs-service-registry.json
[2019-10-30T19:51:56.208Z] + [[ RegServer-grs-service-registry.json =~ RegServer-(.*).json ]]
[2019-10-30T19:51:56.208Z] + name=grs-service-registry
[2019-10-30T19:51:56.208Z] + echo 'User Defined grs-service-registry'
[2019-10-30T19:51:56.208Z] item: RegServer-grs-service-registry.json
[2019-10-30T19:51:56.208Z] User Defined grs-service-registry
[2019-10-30T19:51:56.208Z] + cf services
[2019-10-30T19:51:56.208Z] + grep grs-service-registry
[2019-10-30T19:51:56.208Z] + echo 'Skipped creation of grs-service-registry p-identity already existing'
[2019-10-30T19:51:56.208Z] + FILE=env-dev.env
[2019-10-30T19:51:56.208Z] + '[' -f ./env-dev.env ']'
[2019-10-30T19:51:56.208Z] + echo 'Appending Enviornment File env-dev.env to manifest-dev.yml manifest file'
[2019-10-30T19:51:56.208Z] + cat ./env-dev.env
[2019-10-30T19:51:56.208Z] + set +x
[2019-10-30T19:51:56.208Z] grs-service-registry                       p-service-registry   standard               agreement, beneficiary-api, customer-fund-direction-process, document-utilities, enrolment-api, enrolment-api-test-apigee, error-tracker, feign-multiple-auth-provider, financial, financial-new, financial-process, financial-update-mps, financial-update-slx, foundation-gateway, foundation-spring-starter-kit, investment, kafka-reader-utility, kafka-utility, member, monitor-utility, okra, party, party-update-mps, party-update-slx, product, security-utilities, transact-api, utility, utility-beta, zipkin-server-v2   update succeeded
[2019-10-30T19:51:56.208Z] grs-service-registry-tst                   p-config-server      standard                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   create failed
[2019-10-30T19:51:56.208Z] Skipped creation of grs-service-registry p-identity already existing
[2019-10-30T19:51:56.208Z] Appending Enviornment File env-dev.env to manifest-dev.yml manifest file
[2019-10-30T19:51:56.208Z] + APP_NAME=product
[2019-10-30T19:51:56.208Z] + [[ product-old -eq product-old ]]
[2019-10-30T19:51:56.208Z] + echo 'Blue version name already exists'
[2019-10-30T19:51:56.208Z] + cf delete product-old -f
[2019-10-30T19:51:56.208Z] Blue version name already exists
[2019-10-30T19:51:56.208Z] Deleting app product-old in org CDN-CAC-DEV / space INSTITUTIONAL-GRS-CAC-DEV as epipe_institutional-grs_concourse-product_assemble_4ibqrl_149200_ep...
[2019-10-30T19:51:56.208Z] OK
[2019-10-30T19:51:56.208Z] App product-old does not exist.
[2019-10-30T19:51:56.208Z] + cf push product-new -f ./manifest-dev.yml
[2019-10-30T19:51:56.208Z] Using manifest file ./manifest-dev.yml
[2019-10-30T19:51:56.208Z] Using stack cflinuxfs3...
[2019-10-30T19:51:56.208Z] OK
[2019-10-30T19:51:56.208Z] Creating app product-new in org CDN-CAC-DEV / space INSTITUTIONAL-GRS-CAC-DEV as epipe_institutional-grs_concourse-product_assemble_4ibqrl_149200_ep...
[2019-10-30T19:51:56.208Z] OK
[2019-10-30T19:51:56.208Z] Using route dev-grs-product.apps.cac.preview.pcf.manulife.com
[2019-10-30T19:51:56.208Z] Binding dev-grs-product.apps.cac.preview.pcf.manulife.com to product-new...
[2019-10-30T19:51:56.208Z] OK
[2019-10-30T19:51:56.208Z] Uploading product-new...
[2019-10-30T19:51:56.208Z] Uploading app files from: /tmp/unzipped-app953788251
[2019-10-30T19:51:56.208Z] Uploading 1.4M, 212 files
[2019-10-30T19:51:56.208Z]                              Done uploading
[2019-10-30T19:51:56.208Z] OK
[2019-10-30T19:51:56.208Z] Binding service grs-service-registry to app product-new in org CDN-CAC-DEV / space INSTITUTIONAL-GRS-CAC-DEV as epipe_institutional-grs_concourse-product_assemble_4ibqrl_149200_ep...
[2019-10-30T19:51:56.208Z] OK
[2019-10-30T19:51:56.208Z] Binding service grs-config-server to app product-new in org CDN-CAC-DEV / space INSTITUTIONAL-GRS-CAC-DEV as epipe_institutional-grs_concourse-product_assemble_4ibqrl_149200_ep...
[2019-10-30T19:51:56.208Z] OK
[2019-10-30T19:51:56.208Z] Binding service grs-new-relic to app product-new in org CDN-CAC-DEV / space INSTITUTIONAL-GRS-CAC-DEV as epipe_institutional-grs_concourse-product_assemble_4ibqrl_149200_ep...
[2019-10-30T19:51:56.208Z] OK
[2019-10-30T19:51:56.208Z] Starting app product-new in org CDN-CAC-DEV / space INSTITUTIONAL-GRS-CAC-DEV as epipe_institutional-grs_concourse-product_assemble_4ibqrl_149200_ep...
[2019-10-30T19:51:56.208Z] Downloading ruby_buildpack1742...
[2019-10-30T19:51:56.208Z] Downloading nodejs_buildpack...
[2019-10-30T19:51:56.208Z] Downloading dotnet_core_buildpack...
[2019-10-30T19:51:56.208Z] Downloading go_buildpack...
[2019-10-30T19:51:56.208Z] Downloading python_buildpack...
[2019-10-30T19:51:56.208Z] Downloaded nodejs_buildpack
[2019-10-30T19:51:56.208Z] Downloading php_buildpack...
[2019-10-30T19:51:56.208Z] Downloaded dotnet_core_buildpack
[2019-10-30T19:51:56.208Z] Downloading binary_buildpack...
[2019-10-30T19:51:56.208Z] Downloaded binary_buildpack
[2019-10-30T19:51:56.208Z] Downloading nodejs_buildpack1643...
[2019-10-30T19:51:56.208Z] Downloaded nodejs_buildpack1643
[2019-10-30T19:51:56.208Z] Downloading dotnet_core_buildpack2210...
[2019-10-30T19:51:56.208Z] Downloaded ruby_buildpack1742 (348.5M)
[2019-10-30T19:51:56.208Z] Downloading nodejs_buildpack1644...
[2019-10-30T19:51:56.208Z] Downloaded nodejs_buildpack1644
[2019-10-30T19:51:56.208Z] Downloading nr_dotnetcore_extension...
[2019-10-30T19:51:56.208Z] Downloaded nr_dotnetcore_extension
[2019-10-30T19:51:56.208Z] Downloading nr_dotnetcore_extension_cached...
[2019-10-30T19:51:56.208Z] Downloaded nr_dotnetcore_extension_cached
[2019-10-30T19:51:56.208Z] Downloading staticfile_buildpack...
[2019-10-30T19:51:56.208Z] Downloaded staticfile_buildpack
[2019-10-30T19:51:56.208Z] Downloading java_buildpack_offline...
[2019-10-30T19:51:56.208Z] Downloaded java_buildpack_offline
[2019-10-30T19:51:56.208Z] Downloading nr_hwc_extension_cached...
[2019-10-30T19:51:56.208Z] Downloaded nr_hwc_extension_cached
[2019-10-30T19:51:56.208Z] Downloading ruby_buildpack...
[2019-10-30T19:51:56.208Z] Downloaded python_buildpack (563.7M)
[2019-10-30T19:51:56.208Z] Downloading nr_hwc_extension...
[2019-10-30T19:51:56.208Z] Downloaded nr_hwc_extension
[2019-10-30T19:51:56.208Z] Downloaded php_buildpack (520.7M)
[2019-10-30T19:51:56.208Z] Downloaded ruby_buildpack (348.5M)
[2019-10-30T19:51:56.208Z] Downloaded dotnet_core_buildpack2210 (901M)
[2019-10-30T19:51:56.208Z] Downloaded go_buildpack (657.3M)
[2019-10-30T19:51:56.208Z] Cell 262b45b9-52a8-40ab-81f1-eb75b8859f9e creating container for instance d3ee7699-39c5-438b-b9b8-bb4d1bda9a20
[2019-10-30T19:51:56.208Z] Cell 262b45b9-52a8-40ab-81f1-eb75b8859f9e successfully created container for instance d3ee7699-39c5-438b-b9b8-bb4d1bda9a20
[2019-10-30T19:51:56.208Z] Downloading app package...
[2019-10-30T19:51:56.208Z] Downloaded app package (66.8M)
[2019-10-30T19:51:56.208Z] [1m[31m----->[0m[22m [1m[34mJava Buildpack[0m[22m [34mv4.20[0m [34m(offline)[0m | https://github.com/cloudfoundry/java-buildpack.git#2cd7e3e
[2019-10-30T19:51:56.208Z] [1m[31m----->[0m[22m Downloading [1m[34mJvmkill Agent[0m[22m [34m1.16.0_RELEASE[0m from https://java-buildpack.cloudfoundry.org/jvmkill/bionic/x86_64/jvmkill-1.16.0-RELEASE.so [3m[32m(found in cache)[0m[23m
[2019-10-30T19:51:56.208Z] [1m[31m----->[0m[22m Downloading [1m[34mOpen Jdk JRE[0m[22m [34m1.8.0_222[0m from https://java-buildpack.cloudfoundry.org/openjdk/bionic/x86_64/openjdk-jre-1.8.0_222-bionic.tar.gz [3m[32m(found in cache)[0m[23m
[2019-10-30T19:51:56.208Z]        Expanding Open Jdk JRE to .java-buildpack/open_jdk_jre [3m[32m(1.3s)[0m[23m
[2019-10-30T19:51:56.208Z]        JVM DNS caching disabled in lieu of BOSH DNS caching
[2019-10-30T19:51:56.208Z] [1m[31m----->[0m[22m Downloading [1m[34mOpen JDK Like Memory Calculator[0m[22m [34m3.13.0_RELEASE[0m from https://java-buildpack.cloudfoundry.org/memory-calculator/bionic/x86_64/memory-calculator-3.13.0-RELEASE.tar.gz [3m[32m(found in cache)[0m[23m
[2019-10-30T19:51:56.208Z]        Loaded Classes: 24323, Threads: 250
[2019-10-30T19:51:56.208Z] [1m[31m----->[0m[22m Downloading [1m[34mClient Certificate Mapper[0m[22m [34m1.8.0_RELEASE[0m from https://java-buildpack.cloudfoundry.org/client-certificate-mapper/client-certificate-mapper-1.8.0-RELEASE.jar [3m[32m(found in cache)[0m[23m
[2019-10-30T19:51:56.208Z] [1m[31m----->[0m[22m Downloading [1m[34mContainer Security Provider[0m[22m [34m1.16.0_RELEASE[0m from https://java-buildpack.cloudfoundry.org/container-security-provider/container-security-provider-1.16.0-RELEASE.jar [3m[32m(found in cache)[0m[23m
[2019-10-30T19:51:56.208Z] [1m[31m----->[0m[22m Downloading [1m[34mNew Relic Agent[0m[22m [34m5.2.0[0m from https://download.run.pivotal.io/new-relic/new-relic-5.2.0.jar [3m[32m(found in cache)[0m[23m
[2019-10-30T19:51:56.208Z] [1m[31m----->[0m[22m Downloading [1m[34mSpring Auto Reconfiguration[0m[22m [34m2.7.0_RELEASE[0m from https://java-buildpack.cloudfoundry.org/auto-reconfiguration/auto-reconfiguration-2.7.0-RELEASE.jar [3m[32m(found in cache)[0m[23m
[2019-10-30T19:51:56.208Z] Exit status 0
[2019-10-30T19:51:56.208Z] Uploading droplet, build artifacts cache...
[2019-10-30T19:51:56.208Z] Uploading build artifacts cache...
[2019-10-30T19:51:56.208Z] Uploading droplet...
[2019-10-30T19:51:56.208Z] Uploaded build artifacts cache (129B)
[2019-10-30T19:51:56.208Z] Uploaded droplet (120.2M)
[2019-10-30T19:51:56.208Z] Uploading complete
[2019-10-30T19:51:56.208Z] Cell 262b45b9-52a8-40ab-81f1-eb75b8859f9e stopping instance d3ee7699-39c5-438b-b9b8-bb4d1bda9a20
[2019-10-30T19:51:56.208Z] Cell 262b45b9-52a8-40ab-81f1-eb75b8859f9e destroying container for instance d3ee7699-39c5-438b-b9b8-bb4d1bda9a20
[2019-10-30T19:51:56.208Z] Cell 262b45b9-52a8-40ab-81f1-eb75b8859f9e successfully destroyed container for instance d3ee7699-39c5-438b-b9b8-bb4d1bda9a20
[2019-10-30T19:51:56.208Z] 0 of 1 instances running, 1 starting
[2019-10-30T19:51:56.208Z] 0 of 1 instances running, 1 starting
[2019-10-30T19:51:56.208Z] 0 of 1 instances running, 1 starting
[2019-10-30T19:51:56.208Z] 0 of 1 instances running, 1 starting
[2019-10-30T19:51:56.208Z] 0 of 1 instances running, 1 starting
[2019-10-30T19:51:56.208Z] 0 of 1 instances running, 1 starting
[2019-10-30T19:51:56.208Z] 0 of 1 instances running, 1 starting
[2019-10-30T19:51:56.208Z] 0 of 1 instances running, 1 starting
[2019-10-30T19:51:56.208Z] 1 of 1 instances running
[2019-10-30T19:51:56.208Z] App started
[2019-10-30T19:51:56.208Z] OK
[2019-10-30T19:51:56.209Z] App product-new was started using this command `JAVA_OPTS="-agentpath:$PWD/.java-buildpack/open_jdk_jre/bin/jvmkill-1.16.0_RELEASE=printHeapHistogram=1 -Djava.io.tmpdir=$TMPDIR -XX:ActiveProcessorCount=$(nproc) -Dnewrelic.config.log_file_name=STDOUT -Dnewrelic.config.license_key=68d93d382301e2155f7f67097ad65dcd6db76cde -Dnewrelic.config.app_name=product-new -Dnewrelic.config.licenseKey=68d93d382301e2155f7f67097ad65dcd6db76cde -Dnewrelic.config.rpmAccountId= -Dnewrelic.config.insightsInsertKey= -Dnewrelic.config.orgs= -javaagent:$PWD/.java-buildpack/new_relic_agent/new_relic_agent-5.2.0.jar -Dnewrelic.home=$PWD/.java-buildpack/new_relic_agent -Dnewrelic.enable.java.8=true -Djava.ext.dirs=$PWD/.java-buildpack/container_security_provider:$PWD/.java-buildpack/open_jdk_jre/lib/ext -Djava.security.properties=$PWD/.java-buildpack/java_security/java.security $JAVA_OPTS" && CALCULATED_MEMORY=$($PWD/.java-buildpack/open_jdk_jre/bin/java-buildpack-memory-calculator-3.13.0_RELEASE -totMemory=$MEMORY_LIMIT -loadedClasses=27836 -poolType=metaspace -stackThreads=250 -vmOptions="$JAVA_OPTS") && echo JVM Memory Configuration: $CALCULATED_MEMORY && JAVA_OPTS="$JAVA_OPTS $CALCULATED_MEMORY" && MALLOC_ARENA_MAX=2 SERVER_PORT=$PORT eval exec $PWD/.java-buildpack/open_jdk_jre/bin/java $JAVA_OPTS -cp $PWD/. org.springframework.boot.loader.JarLauncher`
[2019-10-30T19:51:56.209Z] Showing health and status for app product-new in org CDN-CAC-DEV / space INSTITUTIONAL-GRS-CAC-DEV as epipe_institutional-grs_concourse-product_assemble_4ibqrl_149200_ep...
[2019-10-30T19:51:56.209Z] OK
[2019-10-30T19:51:56.209Z] requested state: started
[2019-10-30T19:51:56.209Z] instances: 1/1
[2019-10-30T19:51:56.209Z] usage: 2G x 1 instances
[2019-10-30T19:51:56.209Z] urls: dev-grs-product.apps.cac.preview.pcf.manulife.com
[2019-10-30T19:51:56.209Z] last uploaded: Wed Oct 30 19:48:40 UTC 2019
[2019-10-30T19:51:56.209Z] stack: cflinuxfs3
[2019-10-30T19:51:56.209Z] buildpack: client-certificate-mapper=1.8.0_RELEASE container-security-provider=1.16.0_RELEASE java-buildpack=[34mv4.20[0m-offline-https://github.com/cloudfoundry/java-buildpack.git#2cd7e3e java-main java-opts java-security jvmkill-agent=1.16.0_RELEASE new-relic...
[2019-10-30T19:51:56.209Z]      state     since                    cpu      memory       disk           details
[2019-10-30T19:51:56.209Z] #0   running   2019-10-30 07:51:26 PM   288.5%   785M of 2G   196.8M of 1G
[2019-10-30T19:51:56.209Z] ++ cf app product
[2019-10-30T19:51:56.209Z] ++ awk '{ print $2}'
[2019-10-30T19:51:56.209Z] ++ grep '^#'
[2019-10-30T19:51:56.209Z] + STATE=running
[2019-10-30T19:51:56.209Z] + [[ running -eq running ]]
[2019-10-30T19:51:56.209Z] + echo 'New application is up and running now...good to go for Blue Green Deployment :)'
[2019-10-30T19:51:56.209Z] + cf rename product product-old
[2019-10-30T19:51:56.209Z] New application is up and running now...good to go for Blue Green Deployment :)
[2019-10-30T19:51:56.209Z] Renaming app product to product-old in org CDN-CAC-DEV / space INSTITUTIONAL-GRS-CAC-DEV as epipe_institutional-grs_concourse-product_assemble_4ibqrl_149200_ep...
[2019-10-30T19:51:56.209Z] OK
[2019-10-30T19:51:56.209Z] + cf rename product-new product
[2019-10-30T19:51:56.209Z] Renaming app product-new to product in org CDN-CAC-DEV / space INSTITUTIONAL-GRS-CAC-DEV as epipe_institutional-grs_concourse-product_assemble_4ibqrl_149200_ep...
[2019-10-30T19:51:56.209Z] OK
[2019-10-30T19:51:56.209Z] + cf unmap-route product-old apps.cac.preview.pcf.manulife.com --hostname dev-grs-product
[2019-10-30T19:51:56.209Z] Removing route dev-grs-product.apps.cac.preview.pcf.manulife.com from app product-old in org CDN-CAC-DEV / space INSTITUTIONAL-GRS-CAC-DEV as epipe_institutional-grs_concourse-product_assemble_4ibqrl_149200_ep...
[2019-10-30T19:51:56.209Z] OK
[2019-10-30T19:51:56.209Z] + cf stop product-old
[2019-10-30T19:51:56.209Z] Stopping app product-old in org CDN-CAC-DEV / space INSTITUTIONAL-GRS-CAC-DEV as epipe_institutional-grs_concourse-product_assemble_4ibqrl_149200_ep...
[2019-10-30T19:51:56.209Z] OK
[2019-10-30T19:51:56.209Z] SCRIPT EXIT CODE: 0
[2019-10-30T19:51:56.209Z] SCRIPT EXIT MESSAGE: 
[2019-10-30T19:51:56.209Z] Logging out...
[2019-10-30T19:51:56.209Z] OK
[2019-10-30T19:51:56.209Z] 
[2019-10-30T19:51:57.514Z] succeeded
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Concourse Build Status)
[Pipeline] withEnv
[Pipeline] {
[Pipeline] script
[Pipeline] {
[Pipeline] sh
[2019-10-30T19:51:58.904Z] + fly -t build-dev-product jobs -p concourse-product
[2019-10-30T19:51:58.904Z] build-dev-product         no  succeeded  n/a
[2019-10-30T19:51:58.904Z] build-tst-product         no  succeeded  n/a
[2019-10-30T19:51:58.904Z] build-uat-product         no  succeeded  n/a
[2019-10-30T19:51:58.904Z] build-prod-product        no  failed     n/a
[2019-10-30T19:51:58.904Z] build-feature-product     no  n/a        n/a
[2019-10-30T19:51:58.904Z] build-DR-test             no  n/a        n/a
[2019-10-30T19:51:58.904Z] build-DR-real             no  n/a        n/a
[2019-10-30T19:51:58.904Z] build-tst-restart         no  n/a        n/a
[2019-10-30T19:51:58.904Z] build-uat-restart         no  n/a        n/a
[2019-10-30T19:51:58.904Z] build-prod-restart        no  succeeded  n/a
[2019-10-30T19:51:58.904Z] build-DR-restart          no  n/a        n/a
[2019-10-30T19:51:58.904Z] build-tst-stop            no  n/a        n/a
[2019-10-30T19:51:58.904Z] build-uat-stop            no  n/a        n/a
[2019-10-30T19:51:58.904Z] build-prod-stop           no  n/a        n/a
[2019-10-30T19:51:58.904Z] build-DR-stop             no  n/a        n/a
[2019-10-30T19:51:58.904Z] build-DRtest-delete       no  n/a        n/a
[2019-10-30T19:51:58.904Z] build-backup-prod         no  n/a        n/a
[2019-10-30T19:51:58.904Z] build-backout-blue_green  no  n/a        n/a
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Trigger Automated Smoke Test Pipeline)
Stage "Trigger Automated Smoke Test Pipeline" skipped due to when conditional
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Declarative: Post Actions)
[Pipeline] script
[Pipeline] {
[Pipeline] sh
[2019-10-30T19:52:00.384Z] + fly -t build-dev-product logout
[2019-10-30T19:52:00.384Z] logged out of target: build-dev-product
[Pipeline] sleep
[2019-10-30T19:52:00.540Z] Sleeping for 5 sec
[Pipeline] cleanWs
[2019-10-30T19:52:05.690Z] [WS-CLEANUP] Deleting project workspace...
[2019-10-30T19:52:05.690Z] [WS-CLEANUP] Deferred wipeout is used...
[2019-10-30T19:52:05.786Z] [WS-CLEANUP] done
[Pipeline] ansiColor
[Pipeline] {
[Pipeline] echo
[2019-10-30T19:52:05.977Z] [33mThis pipeline did not attempt to load a property gitLabAPITokenName; setting to GitLabApiTokenText for now[m
[Pipeline] }
[Pipeline] // ansiColor
[Pipeline] withCredentials
[Pipeline] // withCredentials
[Pipeline] withCredentials
[2019-10-30T19:52:06.283Z] Masking supported pattern matches of $GITLAB_API_TOKEN_USR or $GITLAB_API_TOKEN_PSW
[Pipeline] {
[Pipeline] isUnix
[Pipeline] sh
[2019-10-30T19:52:07.065Z] + curl -sS -m 15 -H 'Private-Token: ****' https://git.platform.my_mkr_repo/api/v4/projects/my-dept-devops-test%2Fproduct
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] echo
[2019-10-30T19:52:07.405Z] localBranchName = dev
[Pipeline] echo
[2019-10-30T19:52:07.684Z] JGP AuditTrail Submitted
[Pipeline] echo
[2019-10-30T19:52:07.765Z] Sending Notifications...
[Pipeline] emailext
[2019-10-30T19:52:07.935Z] Not sending mail to unregistered user vijay_yadav@manulife.com because your SCM claimed this was associated with a user ID ‘vijay_yadav' which your security realm does not recognize; you may need changes in your SCM plugin
[2019-10-30T19:52:07.939Z] Sending email to: vijay_yadav@manulife.com Jaimin_Gandhi@manulife.com Kamalakar_Macharla@manulife.ca
[Pipeline] withCredentials
[2019-10-30T19:52:08.372Z] Masking supported pattern matches of $tokenid
[Pipeline] {
[Pipeline] slackSend
[2019-10-30T19:52:08.500Z] Slack Send Pipeline step running, values are - baseUrl: https://hooks.slack.com/services/, teamDomain: <empty>, channel: squad-enrolmnt-deploy, color: #38A749, botUser: false, tokenCredentialId: <empty>, notifyCommitters: false, iconEmoji: <empty>, username: <empty>
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // timestamps
[Pipeline] }
[Pipeline] // timeout
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS
